axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot
plot + scale_color_brewer(palette= "blues")
plot + scale_color_brewer(palette= "Spectral2")
plot + scale_color_brewer(palette= mycolors)
plot + scale_color_brewer()
num <- 22
mycolors <- c(colorRampPalette(brewer.pal(8, "Spectral"))(num))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_brewer()
plot + scale_color_brewer(mycolours)
plot + scale_color_brewer(mycolors)
plot + scale_color_brewer(greens)
plot + scale_color_brewer("greens"grey"")
plot + scale_color_brewer("grey")
plot + scale_color_brewer(mycolors)
num <- 22
mycolors <- c(colorRampPalette(brewer.pal(8, "Spectral"))(num))
plot + scale_color_brewer(mycolors)
num <- 11
mycolors <- c(colorRampPalette(brewer.pal(8, "Spectral"))(num))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_brewer(mycolors)
plot + scale_fill_brewer(mycolors)
plot + scale_color_brewer(mycolors)
plot + scale_color_manual(c("blue", "blue", "blue", "blue", "red", "green", "green", "green", "green", "green", "green"))
plot + scale_color_manual(values = c("blue", "blue", "blue", "blue", "red", "green", "green", "green", "green", "green", "green"))
plot + scale_color_manual(values = c("green", "blue", "blue", "blue", "red", "green", "green", "green", "green", "green", "green"))
blue
plot + scale_color_manual(values = c("blue", "blue", "blue", "blue", "red", "green", "green", "green", "green", "green", "green"))
plot + scale_color_manual(values = c("blue", "orange", "blue", "blue", "red", "green", "green", "green", "green", "green", "green"))
plot + scale_color_manual(values = c("blue", "blue", "blue", "blue", "red", "green", "green", "green", "green", "green", "green"))
plot + scale_color_manual(values = c("blue", "blue", "blue", "orange", "red", "green", "green", "green", "green", "green", "green"))
plot + scale_color_manual(values = c("blue", "blue", "blue", "dodgerblue3", "darkorange1", "green", "green", "green", "green", "green", "green"))
plot + scale_color_manual(values = c("blue", "blue", "blue", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "green", "green", "green", "green"))
plot + scale_color_manual(values = c("blue", "blue", "blue", "dodgerblue3", "darkorange1", "dodgerblue3", "green", "green", "green", "green", "green"))
plot + scale_color_manual(values = c("blue", "blue", "blue", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "dodgerblue3", "green", "green", "green"))
plot + scale_color_manual(values = c("blue", "blue", "blue", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3"))
plot + scale_color_manual(values = c("blue", "blue", "dodgerblue3", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3"))
plot + scale_color_manual(values = c("aquamarine4", "aquamarine4", "dodgerblue3", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3"))
plot + scale_color_manual(values = c("aquamarine4", "aquamarine4", "red", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3"))
plot + scale_color_manual(values = c("aquamarine4", "aquamarine4", "dodgerblue3", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "dodgerblue3", "red", "dodgerblue3", "dodgerblue3"))
plot + scale_color_manual(values = c("aquamarine4", "aquamarine4", "dodgerblue3", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "red"))
plot + scale_color_manual(values = c("aquamarine4", "aquamarine4", "dodgerblue3", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "dodgerblue3", "dodgerblue3", "red", "dodgerblue3"))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine4", "dodgerblue3", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "dodgerblue3", "red", "aquamarine3", "dodgerblue3"))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine4", "dodgerblue3", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "red", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine4", "dodgerblue3", "dodgerblue3", "darkorange1", "dodgerblue3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine4", "dodgerblue3", "dodgerblue3", "darkorange1", "dodgerblue3", "red", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine4", "dodgerblue3", "dodgerblue3", "darkorange1", "red", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "darkorange1", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(RColorBrewer)
path_numbers_risk_graph <- "/Users/georgiagore-langton/OneDrive - London School of Hygiene and Tropical Medicine/PhD_1/R/20200706_number at risk flow diagram"
numbers <- read_excel(paste(path_numbers_risk_graph, "20200706_MIP_STI_numbers_to_plot.xlsx", sep="/"))
numbers <- numbers %>% mutate(n_plot = round(n/1000000, 2),
n_plot2 = paste(as.character(n_plot), "M", sep=" "))
numbers$prev <- (numbers$prev*100)
numbers$prev <- format(round(numbers$prev,2), nsmall = 2)
numbers$prev <- paste(as.character(numbers$prev), "%", sep = " ")
# make label show % prevalence rather than nmber of women for all but total number at risk
numbers <- numbers %>% mutate(n_label = if_else(ref=="PhD Objective One", n_plot2, prev))
numbers <- numbers %>% mutate(var_ref = if_else(ref=="PhD Objective One", paste(as.character(var), "*", sep=""),
if_else(ref=="World Malaria Report 2018", paste(as.character(var), "**", sep=""),
if_else(ref=="Chico et al. JAMA", paste(as.character(var), "***", sep="" ), "NA")))))
numbers <- numbers %>% mutate(var_ref = if_else(ref=="PhD Objective One", paste(as.character(var), "*", sep=""),
if_else(ref=="World Malaria Report 2018", paste(as.character(var), "**", sep=""),
if_else(ref=="Chico et al. JAMA", paste(as.character(var), "***", sep="" ), "NA"))))
plot <- numbers %>%
ggplot(., aes(n_plot, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot
numbers <- numbers %>% mutate(n_plot_mix = if_else(var == "Co-infection", n_plot + 20,
if_else(var == "MiP", n_plot + 30,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 25,
if_else(var == "Gonorrheae", n_plot + 10,
if_else(var == "Syphillis", n_plot + 12,
n_plot)))))))) %>%
numbers <- numbers %>% mutate(n_plot_mix = if_else(                            if_else(var == "MiP", n_plot + 30,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 25,
if_else(var == "Gonorrheae", n_plot + 10,
if_else(var == "Syphillis", n_plot + 12,
n_plot))))))) %>%
numbers <- numbers %>% mutate(n_plot_mix = if_else(if_else(var == "MiP", n_plot + 30,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 25,
if_else(var == "Gonorrheae", n_plot + 10,
if_else(var == "Syphillis", n_plot + 12,
n_plot))))))) %>%
numbers <- numbers %>% mutate(n_plot_mix = if_else(if_else(var == "MiP", n_plot + 30,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 25,
if_else(var == "Gonorrheae", n_plot + 10,
if_else(var == "Syphillis", n_plot + 12,
n_plot)))))))
numbers <- numbers %>% mutate(n_plot_mix = if_else(if_else(var == "MiP", n_plot + 30,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 25,
if_else(var == "Gonorrheae", n_plot + 10,
if_else(var == "Syphillis", n_plot + 12,
n_plot)))))))
numbers <- numbers %>% mutate(n_plot_mix = if_else(if_else(var == "MiP", n_plot + 30,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 25,
if_else(var == "Gonorrheae", n_plot + 10,
if_else(var == "Syphillis", n_plot + 12,
n_plot)))))))
numbers <- numbers %>% mutate(n_plot_mix = if_else(var == "MiP", n_plot + 30,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 25,
if_else(var == "Gonorrheae", n_plot + 10,
if_else(var == "Syphillis", n_plot + 12,
n_plot))))))
numbers <- numbers %>% mutate(n_plot_mix = if_else(var == "MiP", n_plot + 30,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 25,
if_else(var == "Gonorrheae", n_plot + 10,
if_else(var == "Syphillis", n_plot + 12,
n_plot)))))))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "darkorange1", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("red", "aquamarine3", "dodgerblue3", "dodgerblue3", "darkorange1", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "red", "dodgerblue3", "dodgerblue3", "darkorange1", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "darkorange1", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "red", "dodgerblue3", "darkorange1", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "red", "darkorange1", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "darkorange1", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "red", "darkorange1", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
#darkorange1
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "red", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
#darkorange1
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "dodgerblue3", "red", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3"))
#darkorange1
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "dodgerblue3", "brown3", "red", "dodgerblue3", "aquamarine3", "dodgerblue3"))
#darkorange1
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "red", "aquamarine3", "dodgerblue3"))
#darkorange1
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3", "dodgerblue3"))
#darkorange1
numbers <- numbers %>% mutate(n_plot_mix = if_else(var == "MiP", n_plot + 20,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 25,
if_else(var == "Gonorrheae", n_plot + 10,
if_else(var == "Syphillis", n_plot + 12,
n_plot)))))))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3", "dodgerblue3"))
#darkorange1
numbers <- numbers %>% mutate(n_plot_mix = if_else(var == "MiP", n_plot + 25,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 25,
if_else(var == "Gonorrheae", n_plot + 10,
if_else(var == "Syphillis", n_plot + 12,
n_plot)))))))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3", "dodgerblue3"))
#darkorange1
numbers <- numbers %>% mutate(n_plot_mix = if_else(var == "MiP", n_plot + 25,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 28,
if_else(var == "Gonorrheae", n_plot + 18,
if_else(var == "Syphillis", n_plot + 23,
n_plot)))))))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3", "dodgerblue3"))
#darkorange1
path_numbers_risk_graph <- "/Users/georgiagore-langton/OneDrive - London School of Hygiene and Tropical Medicine/PhD_1/R/20200706_number at risk flow diagram"
path_save <- "/Users/georgiagore-langton/OneDrive - London School of Hygiene and Tropical Medicine/PhD_1/Upgrading/Upgrading Report"
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3", "dodgerblue3"))
ggsave(paste(path_save, "graph_num_risk_co-inf.pdf", sep="/"))
numbers <- numbers %>% mutate(var_ref = if_else(ref=="PhD Objective One", paste(as.character(var), "¹", sep=""),
if_else(ref=="World Malaria Report 2018", paste(as.character(var), "²", sep=""),
if_else(ref=="Chico et al. JAMA", paste(as.character(var), "³", sep="" ), "NA")))))
numbers <- numbers %>% mutate(var_ref = if_else(ref=="PhD Objective One", paste(as.character(var), "¹", sep=""),
if_else(ref=="World Malaria Report 2018", paste(as.character(var), "²", sep=""),
if_else(ref=="Chico et al. JAMA", paste(as.character(var), "³", sep="" ), "NA"))))
num <-
mycolors <- c(colorRampPalette(brewer.pal(8, "Spectral"))(num))
plot <- numbers %>%
ggplot(., aes(n_plot, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot
numbers <- numbers %>% mutate(n_plot_mix = if_else(var == "MiP", n_plot + 25,
if_else(var == "BV", n_plot + 15,
if_else(var == "TV", n_plot + 22,
if_else(var == "Chlamydia", n_plot + 28,
if_else(var == "Gonorrheae", n_plot + 18,
if_else(var == "Syphillis", n_plot + 23,
n_plot)))))))
plot <- numbers %>%
ggplot(., aes(n_plot_mix, y, colour = var)) +
geom_path() +
geom_text(aes(label=ifelse(n==0,as.character(var_ref),'')),hjust=0, vjust=-0.4) +
geom_text(aes(size= , label=ifelse(n!=0,as.character(n_label),'')),hjust=0, vjust=1) +
theme(legend.position = "none") + theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank())+
scale_x_continuous(expand = c(.15, .15))+
scale_y_continuous(expand = c(.15, .15))
plot + scale_color_manual(values = c("aquamarine3", "aquamarine3", "dodgerblue3", "dodgerblue3", "aquamarine3", "dodgerblue3", "brown3", "dodgerblue3", "aquamarine3", "dodgerblue3", "dodgerblue3"))
ggsave(paste(path_save, "graph_num_risk_co-inf.pdf", sep="/"))
